<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fluxograma de Processos CS/CX — Sankhya ABC Paulista</title>
  <meta name="description" content="Fluxograma interativo dos processos de CS/CX da Sankhya ABC Paulista, com passos clicáveis que guiam o usuário pelas ações sugeridas." />
  <style>
    :root {
      --bg: #0b0d12;
      --panel: #11141b;
      --muted: #9aa3b2;
      --text: #e8ecf1;
      --accent: #5eead4;
      --accent-weak: #244b46;
      --card: #0f1319;
      --border: #1e2633;
    }
    html, body { height: 100%; }
    body {
      margin: 0; font: 16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji';
      background: linear-gradient(180deg, #0b0d12, #0b0d12 60%, #0d1220);
      color: var(--text);
    }
    .app { display: grid; grid-template-columns: 300px 1fr; gap: 0; min-height: 100vh; }
    .sidebar { position: sticky; top: 0; height: 100vh; overflow: auto; background: var(--panel); border-right: 1px solid var(--border); }
    .brand { padding: 20px 16px 8px 16px; border-bottom: 1px solid var(--border); }
    .brand h1 { font-size: 16px; margin: 0 0 4px 0; letter-spacing: .2px; }
    .brand small { color: var(--muted); }
    .search { padding: 12px 16px; border-bottom: 1px solid var(--border); }
    .search input {
      width: 100%; padding: 10px 12px; border-radius: 10px; background: var(--card); color: var(--text);
      border: 1px solid var(--border); outline: none;
    }
    .steps { padding: 10px 6px 60px 6px; }
    .step-link { display: block; padding: 10px 12px; margin: 6px 10px; border-radius: 10px; color: var(--text); text-decoration: none; border: 1px solid transparent; }
    .step-link:hover { background: var(--card); border-color: var(--border); }
    .step-link .kicker { display: block; font-size: 11px; color: var(--muted); }
    .step-link .title { font-weight: 600; font-size: 14px; }
    .step-link.active { background: rgba(94,234,212,.08); border-color: var(--accent-weak); box-shadow: 0 0 0 1px var(--accent-weak) inset; }

    .content { padding: 28px clamp(16px, 3vw, 36px); }
    .hero { display: grid; gap: 16px; grid-template-columns: 1fr; margin-bottom: 24px; }
    .hero-card { background: var(--panel); border: 1px solid var(--border); border-radius: 16px; padding: 16px; }
    .hero h2 { margin: 0 0 6px 0; font-size: 18px; }
    .hero p { margin: 0; color: var(--muted); }

    .img-wrap { background: var(--panel); border: 1px solid var(--border); border-radius: 16px; padding: 10px; }
    .img-wrap img { width: 100%; height: auto; display: block; border-radius: 10px; }

    .section { scroll-margin-top: 20px; background: var(--panel); border: 1px solid var(--border); border-radius: 16px; padding: 16px; margin: 20px 0; }
    .section h3 { margin-top: 0; font-size: 18px; }
    .meta { color: var(--muted); font-size: 12px; margin-bottom: 8px; }
    .chips { display: flex; flex-wrap: wrap; gap: 6px; margin: 10px 0 0; }
    .chip { font-size: 11px; padding: 6px 10px; border-radius: 999px; border: 1px solid var(--border); background: var(--card); color: var(--muted); }

    .actions { display: grid; gap: 10px; }
    .action { border: 1px dashed var(--border); background: #0c1016; border-radius: 12px; padding: 12px; }
    .action a { color: var(--accent); text-decoration: none; }

    .footer { color: var(--muted); font-size: 12px; padding: 24px 0; text-align: center; }

    @media (max-width: 900px) {
      .app { grid-template-columns: 1fr; }
      .sidebar { position: static; height: auto; }
    }
  </style>
</head>
<body>
  <div class="app">
    <aside class="sidebar">
      <div class="brand">
        <h1>Fluxograma CS/CX</h1>
        <small>Sankhya ABC Paulista</small>
      </div>
      <div class="search"><input id="q" placeholder="Buscar passo… (Ctrl/⌘+K)" /></div>
      <nav id="steps" class="steps" aria-label="Passos do processo"></nav>
    </aside>

    <main class="content">
      <div class="hero">
        <div class="hero-card">
          <h2>Visão geral</h2>
          <p>Este é o fluxograma interativo dos processos de Customer Success / Customer Experience. Clique em um passo ao lado para ir direto às ações e links recomendados.</p>
          <div class="chips">
            <span class="chip">Versão: 1.0</span>
            <span class="chip">Última atualização: <span id="today"></span></span>
            <span class="chip">Responsável: CS/CX — ABC Paulista</span>
          </div>
        </div>
      </div>

      <div class="img-wrap">
        <!-- Substitua o src abaixo pelo caminho/arquivo do seu diagrama no repositório -->
        <img src="assets/fluxograma-cscx.jpg" alt="Fluxograma CS/CX Sankhya ABC Paulista" />
      </div>

      <!-- Seções geradas dinamicamente via JavaScript (a partir de STEPS) -->
      <div id="sections"></div>

      <div class="footer">© Sankhya ABC Paulista — CS/CX • Este site é estático e pode ser hospedado no GitHub Pages.</div>
    </main>
  </div>

  <script>
    // ==========================
    // 1) Edite esta lista STEPS
    // ==========================
    // Substitua os títulos, descrições e links pelos do seu fluxograma.
    // Dica: mantenha os IDs curtos e sem espaços. Eles são usados como âncoras (#).
    const STEPS = [
      {
        id: 'captacao',
        title: 'Captação e Entrada',
        description: 'Leads, indicações, eventos e inbound. Registrar no CRM.',
        tags: ['CRM', 'Marketing', 'Entrada'],
        actions: [
          { label: 'Abrir tela de Leads no Sankhya', href: '#', note: 'substituir pelo link interno/URL' },
          { label: 'Modelo de e-mail de primeiro contato', href: '#', note: 'substituir pelo link do modelo' }
        ]
      },
      {
        id: 'qualificacao',
        title: 'Qualificação',
        description: 'Triagem de necessidade, fit e urgência. Definição de próximo passo.',
        tags: ['Discovery', 'Fit'],
        actions: [
          { label: 'Checklist de qualificação', href: '#', note: '' },
          { label: 'Agendar reunião (Calendly/Agenda)', href: '#', note: '' }
        ]
      },
      {
        id: 'proposta',
        title: 'Proposta & Negociação',
        description: 'Construção de proposta, aprovações internas e envio ao cliente.',
        tags: ['Comercial', 'Aprovação'],
        actions: [
          { label: 'Gerar proposta padrão', href: '#', note: '' },
          { label: 'Fluxo de aprovação interna', href: '#', note: '' }
        ]
      },
      {
        id: 'fechamento',
        title: 'Fechamento',
        description: 'Contrato, faturamento e kickoff.',
        tags: ['Contrato', 'Financeiro'],
        actions: [
          { label: 'Modelo de contrato', href: '#', note: '' },
          { label: 'Checklist de onboarding', href: '#', note: '' }
        ]
      },
      {
        id: 'onboarding',
        title: 'Onboarding',
        description: 'Implementação, treinamento e marcos de ativação.',
        tags: ['Implantação', 'Treinamento'],
        actions: [
          { label: 'Plano de projeto', href: '#', note: '' },
          { label: 'Materiais de treinamento', href: '#', note: '' }
        ]
      },
      {
        id: 'suporte',
        title: 'Suporte & Operação',
        description: 'Atendimento de tickets, SLAs e base de conhecimento.',
        tags: ['SLA', 'Base de Conhecimento'],
        actions: [
          { label: 'Abrir portal de suporte', href: '#', note: '' },
          { label: 'Artigos mais acessados', href: '#', note: '' }
        ]
      },
      {
        id: 'saude',
        title: 'Saúde do Cliente',
        description: 'Acompanhamento de adoção, QBRs, risco e planos de ação.',
        tags: ['Health Score', 'QBR'],
        actions: [
          { label: 'Dashboard de adoção', href: '#', note: '' },
          { label: 'Template de QBR', href: '#', note: '' }
        ]
      },
      {
        id: 'expansao',
        title: 'Expansão',
        description: 'Upsell, cross-sell e renovações.',
        tags: ['Receita', 'Renovação'],
        actions: [
          { label: 'Playbook de upsell', href: '#', note: '' },
          { label: 'Calendário de renovação', href: '#', note: '' }
        ]
      },
      {
        id: 'feedback',
        title: 'NPS & Feedback',
        description: 'Pesquisas de satisfação, análises e ações corretivas.',
        tags: ['NPS', 'Pesquisa'],
        actions: [
          { label: 'Formulário de NPS', href: '#', note: '' },
          { label: 'Relatório de feedback', href: '#', note: '' }
        ]
      }
    ];

    // =============================
    // 2) Código de renderização UI
    // =============================
    const nav = document.getElementById('steps');
    const sections = document.getElementById('sections');
    const today = document.getElementById('today');

    today.textContent = new Date().toLocaleDateString('pt-BR');

    function createNavItem(step) {
      const a = document.createElement('a');
      a.className = 'step-link';
      a.href = `#${step.id}`;
      a.innerHTML = `<span class="kicker">Passo</span><span class="title">${step.title}</span>`;
      return a;
    }

    function createSection(step) {
      const div = document.createElement('section');
      div.className = 'section';
      div.id = step.id;
      div.innerHTML = `
        <div class="meta">#${step.id}</div>
        <h3>${step.title}</h3>
        <p>${step.description || ''}</p>
        <div class="chips">${(step.tags||[]).map(t=>`<span class='chip'>${t}</span>`).join('')}</div>
        <div class="actions">${(step.actions||[]).map(a=>`
          <div class='action'>
            <div><strong>Atalho:</strong> <a href="${a.href}" target="_blank" rel="noopener noreferrer">${a.label}</a></div>
            ${a.note?`<div class='meta'>${a.note}</div>`:''}
          </div>
        `).join('')}</div>
      `;
      return div;
    }

    function renderAll(list) {
      nav.innerHTML = '';
      sections.innerHTML = '';
      list.forEach(step => {
        nav.appendChild(createNavItem(step));
        sections.appendChild(createSection(step));
      });
      syncActive();
    }

    // Busca por título/descrição/tags
    const $q = document.getElementById('q');
    $q.addEventListener('input', (e) => {
      const term = e.target.value.toLowerCase().trim();
      const filtered = term
        ? STEPS.filter(s => [s.title, s.description, ...(s.tags||[])].join(' ').toLowerCase().includes(term))
        : STEPS;
      renderAll(filtered);
    });

    // Ctrl/⌘+K foca na busca
    window.addEventListener('keydown', (e) => {
      if ((e.ctrlKey || e.metaKey) && e.key.toLowerCase() === 'k') { e.preventDefault(); $q.focus(); }
    });

    // Destaca item ativo conforme rolagem
    const stepLinks = () => Array.from(document.querySelectorAll('.step-link'));
    function syncActive() {
      const ids = STEPS.map(s=>s.id);
      const scroll = window.scrollY + 100;
      let current = ids[0];
      ids.forEach(id => {
        const el = document.getElementById(id);
        if (el && el.offsetTop <= scroll) current = id;
      });
      stepLinks().forEach(a => a.classList.toggle('active', a.getAttribute('href') === `#${current}`));
    }
    window.addEventListener('scroll', syncActive);

    // Carrega da hash (?step=onboarding ou #onboarding)
    function jumpFromURL() {
      const hash = (new URL(window.location.href)).hash.replace('#','');
      const qStep = new URLSearchParams(window.location.search).get('step');
      const target = hash || qStep;
      if (target) {
        const el = document.getElementById(target);
        if (el) el.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
    }

    renderAll(STEPS);
    jumpFromURL();
  </script>
</body>
</html>
